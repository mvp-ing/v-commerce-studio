{
  "title": "V-Commerce LLM Observability Dashboard",
  "description": "Comprehensive observability for V-Commerce AI-powered e-commerce platform. Includes LLM metrics, detection rules status, and AI-powered insights.",
  "widgets": [
    {
      "id": 197943320934647,
      "definition": {
        "title": "ðŸ¥ Application Health Overview",
        "title_align": "left",
        "background_color": "blue",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 6049010613301083,
            "definition": {
              "title": "Request Rate",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:trace.http.request.hits{*}.as_rate()",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 1,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 7891782602790207,
            "definition": {
              "title": "Error Rate",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:trace.http.request.errors{*}.as_rate()",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 1,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<=",
                      "value": 0,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 1,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 1835661758553411,
            "definition": {
              "title": "Avg Latency (ms)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:trace.http.request.duration{*}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1 * 1000"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_unit": "ms",
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 5133198223773301,
            "definition": {
              "title": "Active Services",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "count_not_null(sum:trace.http.request.hits{*} by {service})",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 9,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 6750815965656013,
            "definition": {
              "title": "Request Rate by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:trace.http.request.hits{*} by {service}.as_rate()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 2081960020337228,
            "definition": {
              "title": "P95 Latency by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "p95:trace.http.request.duration{*} by {service}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "cool",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 2,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 1725679224686255,
            "definition": {
              "title": "Errors by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:trace.http.request.errors{*} by {service}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 5,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 8953897830863639,
            "definition": {
              "title": "Top Services by Request Count",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:trace.http.request.hits{*} by {service}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "response_format": "scalar",
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 10,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 5,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 9
      }
    },
    {
      "id": 3113158701836397,
      "definition": {
        "title": "ðŸ¤– LLM Observability",
        "title_align": "left",
        "background_color": "purple",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5256337151130923,
            "definition": {
              "title": "Total Tokens (Input)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.input{*}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 2968167068234266,
            "definition": {
              "title": "Total Tokens (Output)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.output{*}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 8958336586716565,
            "definition": {
              "title": "Total Cost (USD)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.total_cost_usd{*}",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "custom_unit": "$",
              "precision": 4,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 5456722267143468,
            "definition": {
              "title": "Cost Per Conversion",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.cost_per_conversion{*}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "custom_unit": "$",
              "precision": 4,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 3361873462901792,
            "definition": {
              "title": "Quality Score",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.response.quality_score{*}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": "<",
                      "value": 0.6,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": "<",
                      "value": 0.8,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": ">=",
                      "value": 0.8,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 4154801283368042,
            "definition": {
              "title": "LLM Requests",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.request.count{*}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 10,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 5000159823234083,
            "definition": {
              "title": "Token Usage Over Time",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "sum",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Input Tokens"
                    },
                    {
                      "formula": "query2",
                      "alias": "Output Tokens"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.input{*}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:llm.tokens.output{*}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 3068954464595612,
            "definition": {
              "title": "LLM Cost Over Time (USD)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.total_cost_usd{*}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "green",
                    "line_type": "solid",
                    "line_width": "thick"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 2,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 5812886150833012,
            "definition": {
              "title": "LLM Request Duration by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.request.duration{*} by {service}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 5,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 8276487919692373,
            "definition": {
              "title": "Response Quality Score",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.response.quality_score{*} by {service}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "min": "0",
                "max": "1"
              },
              "markers": [
                {
                  "label": "Threshold",
                  "value": "y = 0.6",
                  "display_type": "error dashed"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 5,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 9,
        "width": 12,
        "height": 9
      }
    },
    {
      "id": 6026287969253620,
      "definition": {
        "title": "ðŸš¨ Detection Rules Overview",
        "title_align": "left",
        "background_color": "vivid_yellow",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 266238370268916,
            "definition": {
              "type": "note",
              "content": "## Detection Rules Dashboard\n\nReal-time monitoring of all 5 AI/LLM detection rules. Each rule tracks specific anomalies to protect your AI-powered e-commerce platform.",
              "background_color": "transparent",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 2125731440265256,
            "definition": {
              "title": "All Detection Rules Status",
              "title_size": "16",
              "title_align": "left",
              "type": "manage_status",
              "display_format": "countsAndList",
              "color_preference": "text",
              "hide_zero_counts": false,
              "show_status": true,
              "last_triggered_format": "relative",
              "query": "tag:(detection_rule:*)",
              "sort": "status,asc",
              "count": 5,
              "start": 0,
              "summary_type": "monitors",
              "show_priority": false,
              "show_last_triggered": true
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 18,
        "width": 12,
        "height": 3
      }
    },
    {
      "id": 4324316744093922,
      "definition": {
        "title": "ðŸ”´ Rule 1: Prompt Injection Detection",
        "title_align": "left",
        "background_color": "red",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5207772752522136,
            "definition": {
              "type": "note",
              "content": "**Detects adversarial prompts** attempting to manipulate AI services through jailbreaks, system prompt extraction, or SQL injection patterns.",
              "background_color": "transparent",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 1
            }
          },
          {
            "id": 5740431806117766,
            "definition": {
              "title": "Max Injection Score",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "max:llm.security.injection_attempt_score{*}",
                      "aggregator": "max"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "value": 0.7,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">=",
                      "value": 0.5,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<",
                      "value": 0.5,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 6152106056634606,
            "definition": {
              "title": "LLM Requests Analyzed",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.request.count{*}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "bars"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 1188791394402276,
            "definition": {
              "title": "Injection Score Over Time",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Max Score"
                    },
                    {
                      "formula": "query2",
                      "alias": "Avg Score"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "max:llm.security.injection_attempt_score{*}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:llm.security.injection_attempt_score{*}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "min": "0",
                "max": "1"
              },
              "markers": [
                {
                  "label": "Critical (0.7)",
                  "value": "y = 0.7",
                  "display_type": "error dashed"
                },
                {
                  "label": "Warning (0.5)",
                  "value": "y = 0.5",
                  "display_type": "warning dashed"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 21,
        "width": 12,
        "height": 3,
        "is_column_break": true
      }
    },
    {
      "id": 782787205467038,
      "definition": {
        "title": "ðŸ’¬ Rule 2: AI Chat Efficiency (Interactions Per Conversion)",
        "title_align": "left",
        "background_color": "vivid_purple",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2065967437258910,
            "definition": {
              "type": "note",
              "content": "**Measures AI chat efficiency** - how many LLM interactions it takes for a user to add a product to cart. Lower = more efficient.",
              "background_color": "transparent",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 1
            }
          },
          {
            "id": 6064104307909899,
            "definition": {
              "title": "Avg Interactions/Conversion",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.cost_per_conversion{*}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "value": 10,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">=",
                      "value": 7,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<",
                      "value": 7,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "custom_unit": "chats",
              "precision": 1,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 2838713236412044,
            "definition": {
              "title": "Total LLM Interactions",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.interaction_count{*}",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "bars"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 755647052377596,
            "definition": {
              "title": "Interactions Per Conversion Over Time",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.cost_per_conversion{*}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "min": "0",
                "max": "20"
              },
              "markers": [
                {
                  "label": "Critical (10+ chats)",
                  "value": "y = 10",
                  "display_type": "error dashed"
                },
                {
                  "label": "Warning (7+ chats)",
                  "value": "y = 7",
                  "display_type": "warning dashed"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 24,
        "width": 12,
        "height": 3
      }
    },
    {
      "id": 687698289997116,
      "definition": {
        "title": "âš ï¸ Rule 3: Response Quality Degradation",
        "title_align": "left",
        "background_color": "vivid_orange",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8619860378714665,
            "definition": {
              "type": "note",
              "content": "**Monitors LLM response quality** - tracks coherence, relevance, and helpfulness. Low scores indicate degraded user experience.",
              "background_color": "transparent",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 1
            }
          },
          {
            "id": 3714183621768113,
            "definition": {
              "title": "Avg Quality Score",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.response.quality_score{*}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": "<",
                      "value": 0.6,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": "<",
                      "value": 0.7,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": ">=",
                      "value": 0.7,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 8889041814502080,
            "definition": {
              "title": "Min Quality Score",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "min:llm.response.quality_score{*}",
                      "aggregator": "min"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": "<",
                      "value": 0.5,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": "<",
                      "value": 0.6,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": ">=",
                      "value": 0.6,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 3826174969835113,
            "definition": {
              "title": "Quality Score Over Time",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Avg Quality"
                    },
                    {
                      "formula": "query2",
                      "alias": "Min Quality"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.response.quality_score{*}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "min:llm.response.quality_score{*}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "cool",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "min": "0",
                "max": "1"
              },
              "markers": [
                {
                  "label": "Critical Threshold (0.6)",
                  "value": "y = 0.6",
                  "display_type": "error dashed"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 27,
        "width": 12,
        "height": 3
      }
    },
    {
      "id": 7615814610157262,
      "definition": {
        "title": "ðŸ”® Rule 4: Predictive Capacity Alert",
        "title_align": "left",
        "background_color": "vivid_blue",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2158516082575278,
            "definition": {
              "type": "note",
              "content": "**AI-powered failure prediction** - Gemini analyzes metrics to predict errors before they happen. High probability = imminent issues.",
              "background_color": "transparent",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 1
            }
          },
          {
            "id": 5627011250914790,
            "definition": {
              "title": "Error Probability",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.prediction.error_probability{*}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1 * 100"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "value": 80,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">=",
                      "value": 60,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<",
                      "value": 60,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "custom_unit": "%",
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 5710776252741040,
            "definition": {
              "title": "24h Cost Forecast",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.prediction.cost_forecast_24h{*}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "custom_unit": "$",
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 6096763186565897,
            "definition": {
              "title": "Error Probability Trend",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:llm.prediction.error_probability{*}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "classic",
                    "line_type": "solid",
                    "line_width": "thick"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "min": "0",
                "max": "1"
              },
              "markers": [
                {
                  "label": "Alert Threshold (80%)",
                  "value": "y = 0.8",
                  "display_type": "error dashed"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 30,
        "width": 12,
        "height": 3
      }
    },
    {
      "id": 5609151361924302,
      "definition": {
        "title": "ðŸ–¼ï¸ Rule 5: Multimodal Security Attack Detection (Try-On Service)",
        "title_align": "left",
        "background_color": "vivid_pink",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1348904960625896,
            "definition": {
              "type": "note",
              "content": "**Detects image-based attacks** on the Try-On service including decompression bombs (memory exhaustion) and malicious/invalid image files.",
              "background_color": "transparent",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 1
            }
          },
          {
            "id": 8646115852407539,
            "definition": {
              "title": "Total Attacks",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:tryon.security.decompression_bomb{service:tryonservice}.as_count()",
                      "aggregator": "sum"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:tryon.security.invalid_image{service:tryonservice}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "label": "attacks",
                          "type": "custom_unit_label"
                        }
                      },
                      "formula": "query1 + query2"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "value": 10,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">=",
                      "value": 5,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<",
                      "value": 5,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 0,
              "timeseries_background": {
                "type": "bars"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 8765726517640945,
            "definition": {
              "title": "Decompression Bombs",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:tryon.security.decompression_bomb{service:tryonservice}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "label": "ðŸ’£",
                          "type": "custom_unit_label"
                        }
                      },
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "value": 3,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">=",
                      "value": 1,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<",
                      "value": 1,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 1,
              "height": 2
            }
          },
          {
            "id": 5071898227108491,
            "definition": {
              "title": "Invalid Images",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:tryon.security.invalid_image{service:tryonservice}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "label": "ðŸš«",
                          "type": "custom_unit_label"
                        }
                      },
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "value": 5,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": ">=",
                      "value": 2,
                      "palette": "white_on_yellow"
                    },
                    {
                      "comparator": "<",
                      "value": 2,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "precision": 0,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 7,
              "y": 0,
              "width": 1,
              "height": 2
            }
          },
          {
            "id": 1407703505056181,
            "definition": {
              "title": "Attack Types Over Time",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Decompression Bombs ðŸ’£",
                      "formula": "query1"
                    },
                    {
                      "alias": "Invalid Images ðŸš«",
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:tryon.security.decompression_bomb{service:tryonservice}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:tryon.security.invalid_image{service:tryonservice}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "markers": [
                {
                  "label": "Critical (5+ attacks/5min)",
                  "value": "y = 5",
                  "display_type": "error dashed"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 33,
        "width": 12,
        "height": 3
      }
    },
    {
      "id": 2646936081033476,
      "definition": {
        "title": "ðŸ›ï¸ LLM Services Deep Dive",
        "title_align": "left",
        "background_color": "green",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8625442389197191,
            "definition": {
              "title": "Chatbot Service Requests",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.request.count{service:chatbotservice}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 1355815402412540,
            "definition": {
              "title": "PEAU Agent Requests",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.request.count{service:peau-agent OR service:peau_agent OR service:beauagent}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "cool",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 6245363209155465,
            "definition": {
              "title": "Try-On Service Requests",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:tryon.request.count{service:tryonservice}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 1633146020831170,
            "definition": {
              "title": "Token Usage by Service",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.input{*} by {service}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "response_format": "scalar",
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 10,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 2237425082227402,
            "definition": {
              "title": "LLM Cost by Service",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:llm.tokens.total_cost_usd{*} by {service}",
                      "aggregator": "sum"
                    }
                  ],
                  "response_format": "scalar",
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 10,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 36,
        "width": 12,
        "height": 7
      }
    }
  ],
  "template_variables": [],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed",
  "tags": [
    "team:llm"
  ],
  "pause_auto_refresh": false
}