{{ define "home" }} {{ template "header" . }}
<!-- <div {{ with $.platform_css }} class="{{.}}" {{ end }}>
  <span class="platform-flag"> {{$.platform_name}} </span>
</div> -->
<main role="main" class="home">
  <!-- The image at the top of the home page, displayed on smaller screens. -->
  <div class="home-mobile-hero-banner d-lg-none"></div>

  <div class="container-fluid">
    <div class="row">
      <!-- The image on the left of the home page, displayed on larger screens. -->
      <!--<div class="col-4 d-none d-lg-block home-desktop-left-image"></div>-->
      <!-- @TODO: removed temporarily. When uncommenting, also replace below div with this -->
      <!--<div class="col-12 col-lg-8">-->

      <div class="col-12 col-lg-12 px-10-percent">
        <div class="row hot-products-row px-xl-6">
          <div class="col-12">
            <h3>Hot Products</h3>
          </div>

          {{ range $.products }}
          <div class="col-md-4 hot-product-card" data-product-id="{{.Item.Id}}">
            <a href="{{ $.baseUrl }}/product/{{.Item.Id}}">
              <img loading="lazy" src="{{ $.baseUrl }}{{.Item.Picture}}" />
              <div class="hot-product-card-img-overlay"></div>
            </a>
            <div>
              <div class="hot-product-card-name">{{ .Item.Name }}</div>
              <div class="hot-product-card-price">{{ renderMoney .Price }}</div>
              {{ if hasAnyCategory .Item.Categories "accessories" "clothing"
              "footwear" }}
              <div class="mt-2">
                <a
                  class="cymbal-button-primary"
                  href="{{ $.baseUrl }}/product/{{.Item.Id}}?tryon=1"
                  >Try on me</a
                >
              </div>
              {{ end }}
            </div>
          </div>
          {{ end }}
        </div>

        <!-- Footer for larger screens. -->
        <div class="row d-none d-lg-block home-desktop-footer-row">
          <div class="col-12 p-0">{{ template "footer" . }}</div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Footer for smaller screens. -->
<div class="d-lg-none">{{ template "footer" . }}</div>

{{ end }}
